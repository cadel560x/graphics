<!DOCTYPE html>
<html>
    <!-- 1) This file -->
    <head>
        <meta charset="UTF-8">
        <title>Three Dimension Graphics</title>
        <style type="text/css"></style>
        <!-- 2) Include 'three.js' to this file -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/88/three.js"></script>
    </head>
    <body>
        <script type="text/javascript">
            // 3) Add a scene
            var scene = new THREE.Scene();

            // 4) Creating and adding a sphere
            var geometry = new THREE.SphereGeometry(5, 32, 32);

            // 9) 'wireframe: true'
            // var material = new THREE.MeshBasicMaterial({color: 0xff00ff, wireframe: true});

            // 10) Wireframe reset
            // var material = new THREE.MeshBasicMaterial({color: 0xff00ff});

            // 12) Change of material to 'MeshLambertMaterial'
            var material = new THREE.MeshLambertMaterial({color: 0xff00ff});         
            
            var sphere = new THREE.Mesh(geometry, material);
            scene.add(sphere);

            // 5) Add a camera
            var camera = new THREE.PerspectiveCamera(80, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.z =55;

            // 6) Add a renderer
            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // 13) 'speed' vector used to alternate movement once the bounds are reached
            var speedSense = 1;
            var speedMagnitud = 0.4

            // 7) Render loop
            function repeatMe() {
                renderer.render(scene, camera);
                sphere.rotateX(Math.PI/180);
                sphere.rotateY(Math.PI/180);

                // 13) Movieng the sphere with 'translate'
                // sphere.translateX(1);
                // sphere.translateY(1);

                // Using the 'position' property is better.
                // The 'position' property has three properties: 'x', 'y' and 'z'
                sphere.position.x += speedMagnitud*speedSense;

                if (sphere.position.x < -80 || sphere.position.x > 80) {
                    speedSense *= -1;
                }

                // 14) Slow color change
                material.color.addScalar(0.01);
                // console.log("material color:", material.color);
                requestAnimationFrame(repeatMe);
            }

            // 11) Directional light
            var directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
            directionalLight.position.set(0, 1, 2);
            scene.add(directionalLight);
            
            // 7) Call render loop
            repeatMe();
        </script>
    </body>
</html>